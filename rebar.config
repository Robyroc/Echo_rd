{erl_opts, [debug_info, {parse_transform, lager_transform}]}.
{deps,
    [
        {lager, ".*", {git, "https://github.com/erlang-lager/lager.git", "master"}}
    ]
}.

{shell, [
  % {config, "config/sys.config"},
    {apps, [echo_rd]}
]}.

{lager, [
    {handlers, [
        {lager_console_backend, [{level, info}, {formatter, lager_default_formatter},
            {formatter_config, [time," [",severity,"] ", message, "\n"]}]},
        {lager_file_backend, [{file, "error.log"}, {level, error}, {formatter, lager_default_formatter},
            {formatter_config, [date, " ", time," [",severity,"] ",pid, " ", message, "\n"]}]},
        {lager_file_backend, [{file, "console.log"}, {level, info}]}
    ]},
    {extra_sinks,
        [
            {error_logger_lager_event,
                [{handlers, [
                    {lager_file_backend, [{file, "error_logger.log"}, {level, info}]}]
                }]
            }]
    }

]}.

%%{lager, [
%%    {log_root, "/var/log/hello"},
%%    {handlers, [
%%        {lager_console_backend, [{level, info}]},
%%        {lager_file_backend, [{file, "error.log"}, {level, error}]},
%%        {lager_file_backend, [{file, "console.log"}, {level, info}]}
%%    ]}
%%]}.